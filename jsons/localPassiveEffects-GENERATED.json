{
   "_comment": "JSON file automatically generated using jsonnet",
   "automation": {
      "cards": {
         "052b1f85-8b9c-4bb0-a735-bdbd5ac1b2c4": {
            "_comment": "Merry (Tactics)",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "IN_STRING",
                                          "$TARGET.currentFace.traits",
                                          "Hobbit."
                                       ],
                                       [
                                          "IS_HERO",
                                          "$TARGET"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS.controller",
                                          "$TARGET.controller"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "IN_STRING",
                                    "$TARGET.currentFace.traits",
                                    "Hobbit."
                                 ],
                                 [
                                    "IS_HERO",
                                    "$TARGET"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS.controller",
                                    "$TARGET.controller"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "IN_STRING",
                        "$TARGET.currentFace.traits",
                        "Hobbit."
                     ],
                     [
                        "IS_HERO",
                        "$TARGET"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "EQUAL",
                        "$THIS.controller",
                        "$TARGET.controller"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/controller"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 attack from ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS_ID/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 attack to ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS_ID/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "0ef9e385-b7e5-4676-a690-2dd8031aa8c8": {
            "_comment": "Ring of Barahir",
            "rules": {
               "passiveRulehitPoints": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     [
                        "GREATER_THAN",
                        "$THIS.cardIndex",
                        0
                     ]
                  ],
                  "listenTo": [
                     "/cardById/$THIS_ID/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "GET",
                        [
                           "LIST",
                           "cardById",
                           [
                              "PREV",
                              "$THIS.parentCardId"
                           ],
                           "inPlay"
                        ]
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "IN_STRING",
                                          "$TARGET.currentFace.traits",
                                          "Artifact."
                                       ],
                                       [
                                          "GREATER_THAN",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS.parentCardId",
                                          "$TARGET.parentCardId"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} hitPoints from ",
                           "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS.parentCardId/tokens/hitPoints",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "IN_STRING",
                                    "$TARGET.currentFace.traits",
                                    "Artifact."
                                 ],
                                 [
                                    "GREATER_THAN",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS.parentCardId",
                                    "$TARGET.parentCardId"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} hitPoints to ",
                        "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS.parentCardId/tokens/hitPoints",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRulehitPoints": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "IN_STRING",
                        "$TARGET.currentFace.traits",
                        "Artifact."
                     ],
                     [
                        "GREATER_THAN",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "EQUAL",
                        "$THIS.parentCardId",
                        "$TARGET.parentCardId"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        [
                           "GREATER_THAN",
                           "$THIS.cardIndex",
                           0
                        ]
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 hitPoints from ",
                              "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS.parentCardId/tokens/hitPoints",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        [
                           "GREATER_THAN",
                           "$THIS.cardIndex",
                           0
                        ]
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 hitPoints to ",
                              "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS.parentCardId/tokens/hitPoints",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "0f2501c7-16ad-4fee-bea6-17b767fb0d14": {
            "_comment": "Guardian of Arnor",
            "rules": {
               "passiveRuledefense": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "IS_ENEMY",
                                          "$TARGET"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.groupId",
                                          "{{$THIS.controller}}Engaged"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} defense from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/defense",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "IS_ENEMY",
                                    "$TARGET"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.groupId",
                                    "{{$THIS.controller}}Engaged"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} defense to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/defense",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuledefense": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "IS_ENEMY",
                        "$TARGET"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.groupId",
                        "{{$THIS.controller}}Engaged"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/groupId"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 defense from ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS_ID/tokens/defense",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 defense to ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS_ID/tokens/defense",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "12946b30-a231-4074-a524-960365081360": {
            "_comment": "Thurindir",
            "rules": {
               "passiveRulewillpower": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       [
                                          "EQUAL",
                                          "$TARGET.currentFace.type",
                                          "Side Quest"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.groupId",
                                          "sharedVictory"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} willpower from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/willpower",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 [
                                    "EQUAL",
                                    "$TARGET.currentFace.type",
                                    "Side Quest"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.groupId",
                                    "sharedVictory"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} willpower to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/willpower",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRulewillpower": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     [
                        "EQUAL",
                        "$TARGET.currentFace.type",
                        "Side Quest"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.groupId",
                        "sharedVictory"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/groupId"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 willpower from ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS_ID/tokens/willpower",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 willpower to ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS_ID/tokens/willpower",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "1cbe00c2-01d3-420e-a62e-3c37e5b91e48": {
            "_comment": "War Axe",
            "inheritFrom": "6f02e0de-b54d-4c13-97b8-2f3a53b3aa77"
         },
         "323ebfa3-57e5-4394-9f55-284b2f7ee0be": {
            "_comment": "Faramir (Hero, Lore)",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "IS_ENEMY",
                                          "$TARGET"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.groupId",
                                          "sharedStagingArea"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "IS_ENEMY",
                                    "$TARGET"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.groupId",
                                    "sharedStagingArea"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "IS_ENEMY",
                        "$TARGET"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.groupId",
                        "sharedStagingArea"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/groupId"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 attack from ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS_ID/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 attack to ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS_ID/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "40efacf7-f3c1-434b-b31f-42b3721c90c0": {
            "_comment": "Fornost Bowman",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "IS_ENEMY",
                                          "$TARGET"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.groupId",
                                          "{{$THIS.controller}}Engaged"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "IS_ENEMY",
                                    "$TARGET"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.groupId",
                                    "{{$THIS.controller}}Engaged"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "IS_ENEMY",
                        "$TARGET"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.groupId",
                        "{{$THIS.controller}}Engaged"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/groupId"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 attack from ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS_ID/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 attack to ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS_ID/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "51223bd0-ffd1-11df-a976-0801206c9009": {
            "_comment": "Eagles of the Misty Mountains",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "EQUAL",
                                          "$TARGET.currentSide",
                                          "B"
                                       ],
                                       [
                                          "GREATER_THAN",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS_ID",
                                          "$TARGET.parentCardId"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "EQUAL",
                                    "$TARGET.currentSide",
                                    "B"
                                 ],
                                 [
                                    "GREATER_THAN",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS_ID",
                                    "$TARGET.parentCardId"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "passiveRuledefense": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "EQUAL",
                                          "$TARGET.currentSide",
                                          "B"
                                       ],
                                       [
                                          "GREATER_THAN",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS_ID",
                                          "$TARGET.parentCardId"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} defense from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/defense",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "EQUAL",
                                    "$TARGET.currentSide",
                                    "B"
                                 ],
                                 [
                                    "GREATER_THAN",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS_ID",
                                    "$TARGET.parentCardId"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} defense to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/defense",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "EQUAL",
                        "$TARGET.currentSide",
                        "B"
                     ],
                     [
                        "GREATER_THAN",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "EQUAL",
                        "$THIS_ID",
                        "$TARGET.parentCardId"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/currentSide",
                     "/cardById/*/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 attack from ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS_ID/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 attack to ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS_ID/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuledefense": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "EQUAL",
                        "$TARGET.currentSide",
                        "B"
                     ],
                     [
                        "GREATER_THAN",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "EQUAL",
                        "$THIS_ID",
                        "$TARGET.parentCardId"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/currentSide",
                     "/cardById/*/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 defense from ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS_ID/tokens/defense",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 defense to ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS_ID/tokens/defense",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "51223bd0-ffd1-11df-a976-0801209c9010": {
            "_comment": "Elladan (Hero)",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "EQUAL",
                                          "$TARGET.currentFace.name",
                                          "Elrohir"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.cardIndex",
                                          0
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MIN",
                              [
                                 "LIST",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MULTIPLY",
                              "$TARGET_COUNT",
                              2
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "EQUAL",
                                    "$TARGET.currentFace.name",
                                    "Elrohir"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.cardIndex",
                                    0
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MIN",
                           [
                              "LIST",
                              "$TARGET_COUNT",
                              1
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MULTIPLY",
                           "$TARGET_COUNT",
                           2
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "EQUAL",
                        "$TARGET.currentFace.name",
                        "Elrohir"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.cardIndex",
                        0
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "EQUAL",
                                       "$TARGET.currentFace.name",
                                       "Elrohir"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.cardIndex",
                                       0
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_THAN",
                              "$TARGET_COUNT",
                              1
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Removed 2 attack from ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "DECREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/attack",
                                    2
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "EQUAL",
                                       "$TARGET.currentFace.name",
                                       "Elrohir"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.cardIndex",
                                       0
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_EQUAL",
                              "$TARGET_COUNT",
                              1
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Added 2 attack to ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "INCREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/attack",
                                    2
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "51223bd0-ffd1-11df-a976-0801211c9007": {
            "_comment": "Erebor Battle Master",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "IN_STRING",
                                          "$TARGET.currentFace.traits",
                                          "Dwarf."
                                       ],
                                       [
                                          "IS_ALLY",
                                          "$TARGET"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "NOT_EQUAL",
                                          "$THIS_ID",
                                          "$TARGET_ID"
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS.controller",
                                          "$TARGET.controller"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MIN",
                              [
                                 "LIST",
                                 "$TARGET_COUNT",
                                 4
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "IN_STRING",
                                    "$TARGET.currentFace.traits",
                                    "Dwarf."
                                 ],
                                 [
                                    "IS_ALLY",
                                    "$TARGET"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "NOT_EQUAL",
                                    "$THIS_ID",
                                    "$TARGET_ID"
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS.controller",
                                    "$TARGET.controller"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MIN",
                           [
                              "LIST",
                              "$TARGET_COUNT",
                              4
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "IN_STRING",
                        "$TARGET.currentFace.traits",
                        "Dwarf."
                     ],
                     [
                        "IS_ALLY",
                        "$TARGET"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "NOT_EQUAL",
                        "$THIS_ID",
                        "$TARGET_ID"
                     ],
                     [
                        "EQUAL",
                        "$THIS.controller",
                        "$TARGET.controller"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/controller"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "IN_STRING",
                                       "$TARGET.currentFace.traits",
                                       "Dwarf."
                                    ],
                                    [
                                       "IS_ALLY",
                                       "$TARGET"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.cardIndex",
                                       0
                                    ],
                                    [
                                       "NOT_EQUAL",
                                       "$THIS_ID",
                                       "$TARGET_ID"
                                    ],
                                    [
                                       "EQUAL",
                                       "$THIS.controller",
                                       "$TARGET.controller"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_THAN",
                              "$TARGET_COUNT",
                              4
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Removed 1 attack from ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "DECREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/attack",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "IN_STRING",
                                       "$TARGET.currentFace.traits",
                                       "Dwarf."
                                    ],
                                    [
                                       "IS_ALLY",
                                       "$TARGET"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.cardIndex",
                                       0
                                    ],
                                    [
                                       "NOT_EQUAL",
                                       "$THIS_ID",
                                       "$TARGET_ID"
                                    ],
                                    [
                                       "EQUAL",
                                       "$THIS.controller",
                                       "$TARGET.controller"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_EQUAL",
                              "$TARGET_COUNT",
                              4
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Added 1 attack to ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "INCREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/attack",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "51512531-0697-4005-9fb6-884da5b02f75": {
            "_comment": "Elladan (Ally)",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "EQUAL",
                                          "$TARGET.currentFace.name",
                                          "Elrohir"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.cardIndex",
                                          0
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MIN",
                              [
                                 "LIST",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MULTIPLY",
                              "$TARGET_COUNT",
                              2
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "EQUAL",
                                    "$TARGET.currentFace.name",
                                    "Elrohir"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.cardIndex",
                                    0
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MIN",
                           [
                              "LIST",
                              "$TARGET_COUNT",
                              1
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MULTIPLY",
                           "$TARGET_COUNT",
                           2
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "EQUAL",
                        "$TARGET.currentFace.name",
                        "Elrohir"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.cardIndex",
                        0
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "EQUAL",
                                       "$TARGET.currentFace.name",
                                       "Elrohir"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.cardIndex",
                                       0
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_THAN",
                              "$TARGET_COUNT",
                              1
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Removed 2 attack from ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "DECREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/attack",
                                    2
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "EQUAL",
                                       "$TARGET.currentFace.name",
                                       "Elrohir"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.cardIndex",
                                       0
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_EQUAL",
                              "$TARGET_COUNT",
                              1
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Added 2 attack to ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "INCREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/attack",
                                    2
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "58189608-6de5-4022-a999-e3810044aa18": {
            "_comment": "Warrior Sword",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     [
                        "GREATER_THAN",
                        "$THIS.cardIndex",
                        0
                     ]
                  ],
                  "listenTo": [
                     "/cardById/$THIS_ID/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "GET",
                        [
                           "LIST",
                           "cardById",
                           [
                              "PREV",
                              "$THIS.parentCardId"
                           ],
                           "inPlay"
                        ]
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "IS_ENEMY",
                                          "$TARGET"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.groupId",
                                          "{{$THIS.controller}}Engaged"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MIN",
                              [
                                 "LIST",
                                 "$TARGET_COUNT",
                                 3
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS.parentCardId/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "IS_ENEMY",
                                    "$TARGET"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.groupId",
                                    "{{$THIS.controller}}Engaged"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MIN",
                           [
                              "LIST",
                              "$TARGET_COUNT",
                              3
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS.parentCardId/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "IS_ENEMY",
                        "$TARGET"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.groupId",
                        "{{$THIS.controller}}Engaged"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/groupId"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        [
                           "GREATER_THAN",
                           "$THIS.cardIndex",
                           0
                        ]
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "IS_ENEMY",
                                       "$TARGET"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.groupId",
                                       "{{$THIS.controller}}Engaged"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_THAN",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Removed 1 attack from ",
                                    "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "DECREASE_VAL",
                                    "/cardById/$THIS.parentCardId/tokens/attack",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        [
                           "GREATER_THAN",
                           "$THIS.cardIndex",
                           0
                        ]
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "IS_ENEMY",
                                       "$TARGET"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.groupId",
                                       "{{$THIS.controller}}Engaged"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_EQUAL",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Added 1 attack to ",
                                    "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "INCREASE_VAL",
                                    "/cardById/$THIS.parentCardId/tokens/attack",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "665b16ad-accf-45c9-8725-f3f5d0818310": {
            "_comment": "Booming Ent",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "IN_STRING",
                                          "$TARGET.currentFace.traits",
                                          "Ent."
                                       ],
                                       [
                                          "IS_CHARACTER",
                                          "$TARGET"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "GREATER_EQUAL",
                                          "$TARGET.tokens.damage",
                                          1
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS.controller",
                                          "$TARGET.controller"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "IN_STRING",
                                    "$TARGET.currentFace.traits",
                                    "Ent."
                                 ],
                                 [
                                    "IS_CHARACTER",
                                    "$TARGET"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "GREATER_EQUAL",
                                    "$TARGET.tokens.damage",
                                    1
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS.controller",
                                    "$TARGET.controller"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "IN_STRING",
                        "$TARGET.currentFace.traits",
                        "Ent."
                     ],
                     [
                        "IS_CHARACTER",
                        "$TARGET"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "GREATER_EQUAL",
                        "$TARGET.tokens.damage",
                        1
                     ],
                     [
                        "EQUAL",
                        "$THIS.controller",
                        "$TARGET.controller"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/groupId",
                     "/cardById/*/tokens/damage"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 attack from ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS_ID/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 attack to ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS_ID/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "6f02e0de-b54d-4c13-97b8-2f3a53b3aa77": {
            "_comment": "War Axe",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     [
                        "GREATER_THAN",
                        "$THIS.cardIndex",
                        0
                     ]
                  ],
                  "listenTo": [
                     "/cardById/$THIS_ID/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "GET",
                        [
                           "LIST",
                           "cardById",
                           [
                              "PREV",
                              "$THIS.parentCardId"
                           ],
                           "inPlay"
                        ]
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "OR",
                                          [
                                             "IN_STRING",
                                             "$TARGET.currentFace.keywords",
                                             "Restricted."
                                          ],
                                          [
                                             "IN_STRING",
                                             "$TARGET.currentFace.text",
                                             "Restricted."
                                          ]
                                       ],
                                       [
                                          "GREATER_THAN",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS.parentCardId",
                                          "$TARGET.parentCardId"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS.parentCardId/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "OR",
                                    [
                                       "IN_STRING",
                                       "$TARGET.currentFace.keywords",
                                       "Restricted."
                                    ],
                                    [
                                       "IN_STRING",
                                       "$TARGET.currentFace.text",
                                       "Restricted."
                                    ]
                                 ],
                                 [
                                    "GREATER_THAN",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS.parentCardId",
                                    "$TARGET.parentCardId"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS.parentCardId/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "OR",
                        [
                           "IN_STRING",
                           "$TARGET.currentFace.keywords",
                           "Restricted."
                        ],
                        [
                           "IN_STRING",
                           "$TARGET.currentFace.text",
                           "Restricted."
                        ]
                     ],
                     [
                        "GREATER_THAN",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "EQUAL",
                        "$THIS.parentCardId",
                        "$TARGET.parentCardId"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        [
                           "GREATER_THAN",
                           "$THIS.cardIndex",
                           0
                        ]
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 attack from ",
                              "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS.parentCardId/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        [
                           "GREATER_THAN",
                           "$THIS.cardIndex",
                           0
                        ]
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 attack to ",
                              "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS.parentCardId/tokens/attack",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "769dbf59-9e02-4750-9605-b1ad6c8783e2": {
            "_comment": "Elrohir (Ally)",
            "rules": {
               "passiveRuledefense": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "EQUAL",
                                          "$TARGET.currentFace.name",
                                          "Elladan"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.cardIndex",
                                          0
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MIN",
                              [
                                 "LIST",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MULTIPLY",
                              "$TARGET_COUNT",
                              2
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} defense from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/defense",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "EQUAL",
                                    "$TARGET.currentFace.name",
                                    "Elladan"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.cardIndex",
                                    0
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MIN",
                           [
                              "LIST",
                              "$TARGET_COUNT",
                              1
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MULTIPLY",
                           "$TARGET_COUNT",
                           2
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} defense to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/defense",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuledefense": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "EQUAL",
                        "$TARGET.currentFace.name",
                        "Elladan"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.cardIndex",
                        0
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "EQUAL",
                                       "$TARGET.currentFace.name",
                                       "Elladan"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.cardIndex",
                                       0
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_THAN",
                              "$TARGET_COUNT",
                              1
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Removed 2 defense from ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "DECREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/defense",
                                    2
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "EQUAL",
                                       "$TARGET.currentFace.name",
                                       "Elladan"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.cardIndex",
                                       0
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_EQUAL",
                              "$TARGET_COUNT",
                              1
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Added 2 defense to ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "INCREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/defense",
                                    2
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "8fcb55c3-2996-4c13-b120-2b0c31f62d21": {
            "_comment": "Faramir (Hero, Lore)",
            "inheritFrom": "323ebfa3-57e5-4394-9f55-284b2f7ee0be"
         },
         "955a36c0-f348-400e-8ba4-16adcab07444": {
            "_comment": "Fireside Song",
            "rules": {
               "passiveRulewillpower": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     [
                        "GREATER_THAN",
                        "$THIS.cardIndex",
                        0
                     ]
                  ],
                  "listenTo": [
                     "/cardById/$THIS_ID/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "GET",
                        [
                           "LIST",
                           "cardById",
                           [
                              "PREV",
                              "$THIS.parentCardId"
                           ],
                           "inPlay"
                        ]
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "IN_STRING",
                                          "$TARGET.currentFace.traits",
                                          "Song."
                                       ],
                                       [
                                          "GREATER_THAN",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS.parentCardId",
                                          "$TARGET.parentCardId"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} willpower from ",
                           "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS.parentCardId/tokens/willpower",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "IN_STRING",
                                    "$TARGET.currentFace.traits",
                                    "Song."
                                 ],
                                 [
                                    "GREATER_THAN",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS.parentCardId",
                                    "$TARGET.parentCardId"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} willpower to ",
                        "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS.parentCardId/tokens/willpower",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRulewillpower": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "IN_STRING",
                        "$TARGET.currentFace.traits",
                        "Song."
                     ],
                     [
                        "GREATER_THAN",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "EQUAL",
                        "$THIS.parentCardId",
                        "$TARGET.parentCardId"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        [
                           "GREATER_THAN",
                           "$THIS.cardIndex",
                           0
                        ]
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 willpower from ",
                              "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS.parentCardId/tokens/willpower",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        [
                           "GREATER_THAN",
                           "$THIS.cardIndex",
                           0
                        ]
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 willpower to ",
                              "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS.parentCardId/tokens/willpower",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "9ea49df7-4c1f-432a-ba95-c0576fc62e89": {
            "_comment": "Guardian of Esgaroth",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "GREATER_THAN",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS_ID",
                                          "$TARGET.parentCardId"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MIN",
                              [
                                 "LIST",
                                 "$TARGET_COUNT",
                                 3
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "GREATER_THAN",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS_ID",
                                    "$TARGET.parentCardId"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MIN",
                           [
                              "LIST",
                              "$TARGET_COUNT",
                              3
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "passiveRuledefense": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "GREATER_THAN",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS_ID",
                                          "$TARGET.parentCardId"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MIN",
                              [
                                 "LIST",
                                 "$TARGET_COUNT",
                                 3
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} defense from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/defense",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "GREATER_THAN",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS_ID",
                                    "$TARGET.parentCardId"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MIN",
                           [
                              "LIST",
                              "$TARGET_COUNT",
                              3
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} defense to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/defense",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "passiveRulehitPoints": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "GREATER_THAN",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS_ID",
                                          "$TARGET.parentCardId"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MIN",
                              [
                                 "LIST",
                                 "$TARGET_COUNT",
                                 3
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} hitPoints from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/hitPoints",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "GREATER_THAN",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS_ID",
                                    "$TARGET.parentCardId"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MIN",
                           [
                              "LIST",
                              "$TARGET_COUNT",
                              3
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} hitPoints to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/hitPoints",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "passiveRulewillpower": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "GREATER_THAN",
                                          "$TARGET.cardIndex",
                                          0
                                       ],
                                       [
                                          "EQUAL",
                                          "$THIS_ID",
                                          "$TARGET.parentCardId"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MIN",
                              [
                                 "LIST",
                                 "$TARGET_COUNT",
                                 3
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} willpower from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/willpower",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "GREATER_THAN",
                                    "$TARGET.cardIndex",
                                    0
                                 ],
                                 [
                                    "EQUAL",
                                    "$THIS_ID",
                                    "$TARGET.parentCardId"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MIN",
                           [
                              "LIST",
                              "$TARGET_COUNT",
                              3
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} willpower to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/willpower",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "GREATER_THAN",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "EQUAL",
                        "$THIS_ID",
                        "$TARGET.parentCardId"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "GREATER_THAN",
                                       "$TARGET.cardIndex",
                                       0
                                    ],
                                    [
                                       "EQUAL",
                                       "$THIS_ID",
                                       "$TARGET.parentCardId"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_THAN",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Removed 1 attack from ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "DECREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/attack",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "GREATER_THAN",
                                       "$TARGET.cardIndex",
                                       0
                                    ],
                                    [
                                       "EQUAL",
                                       "$THIS_ID",
                                       "$TARGET.parentCardId"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_EQUAL",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Added 1 attack to ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "INCREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/attack",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuledefense": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "GREATER_THAN",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "EQUAL",
                        "$THIS_ID",
                        "$TARGET.parentCardId"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "GREATER_THAN",
                                       "$TARGET.cardIndex",
                                       0
                                    ],
                                    [
                                       "EQUAL",
                                       "$THIS_ID",
                                       "$TARGET.parentCardId"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_THAN",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Removed 1 defense from ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "DECREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/defense",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "GREATER_THAN",
                                       "$TARGET.cardIndex",
                                       0
                                    ],
                                    [
                                       "EQUAL",
                                       "$THIS_ID",
                                       "$TARGET.parentCardId"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_EQUAL",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Added 1 defense to ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "INCREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/defense",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRulehitPoints": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "GREATER_THAN",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "EQUAL",
                        "$THIS_ID",
                        "$TARGET.parentCardId"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "GREATER_THAN",
                                       "$TARGET.cardIndex",
                                       0
                                    ],
                                    [
                                       "EQUAL",
                                       "$THIS_ID",
                                       "$TARGET.parentCardId"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_THAN",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Removed 1 hitPoints from ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "DECREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/hitPoints",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "GREATER_THAN",
                                       "$TARGET.cardIndex",
                                       0
                                    ],
                                    [
                                       "EQUAL",
                                       "$THIS_ID",
                                       "$TARGET.parentCardId"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_EQUAL",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Added 1 hitPoints to ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "INCREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/hitPoints",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRulewillpower": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "GREATER_THAN",
                        "$TARGET.cardIndex",
                        0
                     ],
                     [
                        "EQUAL",
                        "$THIS_ID",
                        "$TARGET.parentCardId"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "GREATER_THAN",
                                       "$TARGET.cardIndex",
                                       0
                                    ],
                                    [
                                       "EQUAL",
                                       "$THIS_ID",
                                       "$TARGET.parentCardId"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_THAN",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Removed 1 willpower from ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "DECREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/willpower",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "GREATER_THAN",
                                       "$TARGET.cardIndex",
                                       0
                                    ],
                                    [
                                       "EQUAL",
                                       "$THIS_ID",
                                       "$TARGET.parentCardId"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_EQUAL",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Added 1 willpower to ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "INCREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/willpower",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "a3f93416-08e8-4d0c-b983-58ae2505e75c": {
            "_comment": "Legacy Blade",
            "rules": {
               "passiveRuleattack": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     [
                        "GREATER_THAN",
                        "$THIS.cardIndex",
                        0
                     ]
                  ],
                  "listenTo": [
                     "/cardById/$THIS_ID/cardIndex"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "GET",
                        [
                           "LIST",
                           "cardById",
                           [
                              "PREV",
                              "$THIS.parentCardId"
                           ],
                           "inPlay"
                        ]
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       [
                                          "EQUAL",
                                          "$TARGET.currentFace.type",
                                          "Side Quest"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.groupId",
                                          "sharedVictory"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MIN",
                              [
                                 "LIST",
                                 "$TARGET_COUNT",
                                 3
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} attack from ",
                           "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS.parentCardId/tokens/attack",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 [
                                    "EQUAL",
                                    "$TARGET.currentFace.type",
                                    "Side Quest"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.groupId",
                                    "sharedVictory"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MIN",
                           [
                              "LIST",
                              "$TARGET_COUNT",
                              3
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} attack to ",
                        "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS.parentCardId/tokens/attack",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuleattack": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     [
                        "EQUAL",
                        "$TARGET.currentFace.type",
                        "Side Quest"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.groupId",
                        "sharedVictory"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/groupId"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        [
                           "GREATER_THAN",
                           "$THIS.cardIndex",
                           0
                        ]
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    [
                                       "EQUAL",
                                       "$TARGET.currentFace.type",
                                       "Side Quest"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.groupId",
                                       "sharedVictory"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_THAN",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Removed 1 attack from ",
                                    "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "DECREASE_VAL",
                                    "/cardById/$THIS.parentCardId/tokens/attack",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        [
                           "GREATER_THAN",
                           "$THIS.cardIndex",
                           0
                        ]
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    [
                                       "EQUAL",
                                       "$TARGET.currentFace.type",
                                       "Side Quest"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.groupId",
                                       "sharedVictory"
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_EQUAL",
                              "$TARGET_COUNT",
                              3
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Added 1 attack to ",
                                    "$GAME.cardById.{{$THIS.parentCardId}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "INCREASE_VAL",
                                    "/cardById/$THIS.parentCardId/tokens/attack",
                                    1
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "a933917f-4c7e-416e-8b08-ee2e60f6ab5f": {
            "_comment": "Warden of Annuminas",
            "rules": {
               "passiveRulewillpower": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "IS_ENEMY",
                                          "$TARGET"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.groupId",
                                          "{{$THIS.controller}}Engaged"
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} willpower from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/willpower",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "IS_ENEMY",
                                    "$TARGET"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.groupId",
                                    "{{$THIS.controller}}Engaged"
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} willpower to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/willpower",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRulewillpower": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "IS_ENEMY",
                        "$TARGET"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.groupId",
                        "{{$THIS.controller}}Engaged"
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide",
                     "/cardById/*/groupId"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Removed 1 willpower from ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "DECREASE_VAL",
                              "/cardById/$THIS_ID/tokens/willpower",
                              1
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           [
                              "LOG",
                              "└── ",
                              "Added 1 willpower to ",
                              "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                              "."
                           ],
                           [
                              "INCREASE_VAL",
                              "/cardById/$THIS_ID/tokens/willpower",
                              1
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         },
         "cc7beee8-1f42-4926-8c45-8a50f3a87c57": {
            "_comment": "Elrohir (Hero)",
            "rules": {
               "passiveRuledefense": {
                  "_comment": "Add/remove tokens on cards meeting targetCondition when this card passes/fails thisCondition.",
                  "condition": [
                     "AND",
                     true
                  ],
                  "listenTo": [ ],
                  "offDo": [
                     "COND",
                     "$THIS.inPlay",
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "PREV",
                                    [
                                       "AND",
                                       "$TARGET.inPlay",
                                       [
                                          "EQUAL",
                                          "$TARGET.currentFace.name",
                                          "Elladan"
                                       ],
                                       [
                                          "EQUAL",
                                          "$TARGET.cardIndex",
                                          0
                                       ]
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MIN",
                              [
                                 "LIST",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ],
                        [
                           "UPDATE_VAR",
                           "$TARGET_COUNT",
                           [
                              "MULTIPLY",
                              "$TARGET_COUNT",
                              2
                           ]
                        ],
                        [
                           "LOG",
                           "└── ",
                           "Removed {{$TARGET_COUNT}} defense from ",
                           "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                           "."
                        ],
                        [
                           "DECREASE_VAL",
                           "/cardById/$THIS_ID/tokens/defense",
                           "$TARGET_COUNT"
                        ]
                     ]
                  ],
                  "onDo": [
                     [
                        "VAR",
                        "$TARGET_COUNT",
                        0
                     ],
                     [
                        "FOR_EACH_KEY_VAL",
                        "$TARGET_ID",
                        "$TARGET",
                        "$GAME.cardById",
                        [
                           [
                              "COND",
                              [
                                 "AND",
                                 "$TARGET.inPlay",
                                 [
                                    "EQUAL",
                                    "$TARGET.currentFace.name",
                                    "Elladan"
                                 ],
                                 [
                                    "EQUAL",
                                    "$TARGET.cardIndex",
                                    0
                                 ]
                              ],
                              [
                                 "INCREASE_VAR",
                                 "$TARGET_COUNT",
                                 1
                              ]
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MIN",
                           [
                              "LIST",
                              "$TARGET_COUNT",
                              1
                           ]
                        ]
                     ],
                     [
                        "UPDATE_VAR",
                        "$TARGET_COUNT",
                        [
                           "MULTIPLY",
                           "$TARGET_COUNT",
                           2
                        ]
                     ],
                     [
                        "LOG",
                        "└── ",
                        "Added {{$TARGET_COUNT}} defense to ",
                        "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                        "."
                     ],
                     [
                        "INCREASE_VAL",
                        "/cardById/$THIS_ID/tokens/defense",
                        "$TARGET_COUNT"
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               },
               "targetChangeRuledefense": {
                  "_comment": "Add/remove tokens on this card when other cards pass/fail targetCondition.",
                  "condition": [
                     "AND",
                     "$TARGET.inPlay",
                     [
                        "EQUAL",
                        "$TARGET.currentFace.name",
                        "Elladan"
                     ],
                     [
                        "EQUAL",
                        "$TARGET.cardIndex",
                        0
                     ]
                  ],
                  "listenTo": [
                     "/cardById/*/inPlay",
                     "/cardById/*/currentSide"
                  ],
                  "offDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "EQUAL",
                                       "$TARGET.currentFace.name",
                                       "Elladan"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.cardIndex",
                                       0
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_THAN",
                              "$TARGET_COUNT",
                              1
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Removed 2 defense from ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "DECREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/defense",
                                    2
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "onDo": [
                     "COND",
                     [
                        "AND",
                        [
                           "NOT_EQUAL",
                           "$THIS_ID",
                           "$TARGET_ID"
                        ],
                        true
                     ],
                     [
                        [
                           "VAR",
                           "$TARGET_COUNT",
                           0
                        ],
                        [
                           "FOR_EACH_KEY_VAL",
                           "$TARGET_ID",
                           "$TARGET",
                           "$GAME.cardById",
                           [
                              [
                                 "COND",
                                 [
                                    "AND",
                                    "$TARGET.inPlay",
                                    [
                                       "EQUAL",
                                       "$TARGET.currentFace.name",
                                       "Elladan"
                                    ],
                                    [
                                       "EQUAL",
                                       "$TARGET.cardIndex",
                                       0
                                    ]
                                 ],
                                 [
                                    "INCREASE_VAR",
                                    "$TARGET_COUNT",
                                    1
                                 ]
                              ]
                           ]
                        ],
                        [
                           "COND",
                           [
                              "LESS_EQUAL",
                              "$TARGET_COUNT",
                              1
                           ],
                           [
                              [
                                 [
                                    "LOG",
                                    "└── ",
                                    "Added 2 defense to ",
                                    "$GAME.cardById.{{$THIS_ID}}.currentFace.name",
                                    "."
                                 ],
                                 [
                                    "INCREASE_VAL",
                                    "/cardById/$THIS_ID/tokens/defense",
                                    2
                                 ]
                              ]
                           ]
                        ]
                     ]
                  ],
                  "side": "A",
                  "type": "whileInPlay"
               }
            }
         }
      }
   }
}
